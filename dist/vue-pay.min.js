!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(t,e){var n=new r(t,e);t.pay=n,Object.defineProperties(t.prototype,{$pay:{get:function(){return n}}})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1)();"undefined"!=typeof window&&window.Vue&&window.Vue.use(o),e.default=o},function(t,e){t.exports=function(){function t(t,e){var n=document,o="script",r=n.createElement(o),s=n.getElementsByTagName(o)[0];r.src=t,e&&r.addEventListener("load",function(t){e(null,t)},!1),s.parentNode.insertBefore(r,s)}function e(t){var e=a.Vue.http(t);return e.then(t.success,t.error),e}function n(t){return Promise.resolve({then:function(e,n){t(e,n)}})}function o(t){return t.data.data}function r(){var t,e,n=a.options.plansKey,o=a.$vm.current,r=a.$vm.selected,s=a.$vm.plans||[];for(t=0,e=s.length;t<e;t++)!function(t){Vue.set(s[t],"current",s[t][n]===(o||{})[n]),Vue.set(s[t],"selected",s[t][n]===(r||{})[n])}(t)}function s(t,e){return a.options.promise(function(n,o){a.merchants[a.options.merchant].getToken(t.card,function(o){t.body=t.body||{},t.body.token=o.data.token,n(e(t))},o)})}function i(t){var e,n,o,r,s;for(r=a.options.plansKey,o=t[r]||t,s=a.plans()||[],e=0,n=s.length;e<n;e++)if(s[e][r]===o)return s[e];return null}function u(t,e){this.options=Object.assign({},c,e),this.Vue=t,this.$vm=new t({data:function(){return{plans:null,current:null,selected:null}}}),this.merchants={},a=this}var a=null,c={merchant:"stripe",http:e,promise:n,async:t,plansKey:"id",plansData:{url:"plans"},plansAutoFetch:!0,plansParseResponse:o,invalidCardNumberMsg:"Invalid card number.",invalidCardExpiryMsg:"Invalid card expiry.",billingData:{method:"put",url:"billing/update"},subscribeData:{method:"put",url:"subscriptions/update",billing:!0},subscribeStopData:{method:"put",url:"subscriptions/stop"},subscribeCancelData:{method:"put",url:"subscriptions/cancel"}};return u.prototype.subscribe=function(t){var e="plan_"+a.options.plansKey,n=a.$vm.selected;return t=Object.assign({},a.options.subscribeData,t),n&&(t.body[e]=n[a.options.plansKey]),t.billing?a.billing(t):a.options.http(t)},u.prototype.billing=function(t){return t=Object.assign({},a.options.billingData,t),s(t,function(){return a.options.promise(function(e,n){a.Vue.http(t).then(e,n)})})},u.prototype.unsubscribe=function(t){var e=a.options["subscribe"+(t.stop?"Stop":"Cancel")+"Data"];return t=Object.assign({},e,t),a.options.http(t)},u.prototype.init=function(t,e){a.merchants[t].key=e,a.merchants[t].instance=a,a.merchants[t].init(),a.options.plansAutoFetch&&!a.$vm.plans&&a.fetchPlans()},u.prototype.fetchPlans=function(){var t=Object.assign({},a.options.plansData);return t.success||(t.success=function(t){a.Vue.set(a.$vm,"plans",a.options.plansParseResponse(t)),r()}),a.options.http(t)},u.prototype.plans=function(t){if(!t)return a.$vm.plans;a.Vue.set(a.$vm,"plans",t),r()},u.prototype.plan=function(t){if(!t)return a.$vm.current;a.Vue.set(a.$vm,"current",i(t)),r()},u.prototype.select=function(t){if(!t)return a.$vm.selected;a.Vue.set(a.$vm,"selected",i(t)),r()},u.prototype.unselect=function(t){a.Vue.set(a.$vm,"selected",null),r()},u.prototype.setMerchant=function(t){a.options.merchant=t},u}}])});